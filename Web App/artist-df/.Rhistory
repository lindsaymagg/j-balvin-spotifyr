i = i + 1
}
within_genres <- NULL
if (length(selected_genres >= 1)){
first_genre <- selected_genres[1]
print(first_genre)
within_genres <- artist_vertices %>% filter(get(first_genre) == TRUE)
}
View(within_genres)
i <- 2
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
next_genre <- artist_vertices %>% filter(get(selected_genres[i]) == TRUE)
within_genres <- rbind(within_genres, next_genre)
i = i + 1
}
View(within_genres)
selected_genres <- c("reggaeton", "trap latino")
within_genres <- NULL
if (length(selected_genres >= 1)){
first_genre <- selected_genres[1]
print(first_genre)
within_genres <- artist_vertices %>% filter(get(first_genre) == TRUE)
}
View(within_genres)
i <- 2
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
next_genre <- artist_vertices %>% filter(get(selected_genres[i]) == TRUE)
within_genres <- rbind(within_genres, next_genre)
i = i + 1
}
View(next_genre)
View(within_genres)
187+225
within_genres <- unique(within_genres)
View(within_genres)
within_genres <- NULL
if (length(selected_genres >= 1)){
first_genre <- selected_genres[1]
print(first_genre)
within_genres <- artist_vertices %>% filter(get(first_genre) == TRUE)
}
i <- 2
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
next_genre <- artist_vertices %>% filter(get(selected_genres[i]) == TRUE)
within_genres <- rbind(within_genres, next_genre)
i = i + 1
}
within_genres <- unique(within_genres)
View(within_genres)
selected_genres <- c("latin", "reggaeton colombiano")
within_genres <- NULL
if (length(selected_genres >= 1)){
first_genre <- selected_genres[1]
print(first_genre)
within_genres <- artist_vertices %>% filter(get(first_genre) == TRUE)
}
i <- 2
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
next_genre <- artist_vertices %>% filter(get(selected_genres[i]) == TRUE)
within_genres <- rbind(within_genres, next_genre)
i = i + 1
}
within_genres <- unique(within_genres)
View(within_genres)
selected_genres <- c("trap latino", "reggaeton colombiano")
within_genres <- NULL
if (length(selected_genres >= 1)){
first_genre <- selected_genres[1]
print(first_genre)
within_genres <- artist_vertices %>% filter(get(first_genre) == TRUE)
}
i <- 2
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
next_genre <- artist_vertices %>% filter(get(selected_genres[i]) == TRUE)
within_genres <- rbind(within_genres, next_genre)
i = i + 1
}
within_genres <- unique(within_genres)
View(within_genres)
within_genres <- artist_vertices
selected_genres <- c("trap latino", "reggaeton colombiano")
if (is.null(selected_genres)){
within_genres <- NULL
} else {
# AND
i <- 1
while (i < length(selected_genres) + 1) {
print(selected_genres[i])
within_genres <- within_genres %>% filter(get(selected_genres[i]) == TRUE)
i = i + 1
}
}
View(within_genres)
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp()
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
shiny::runApp('Documents/J Balvin Project/Web App')
shiny::runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
View(artist_vertices)
View(artist_vertices)
artist_vertices <- read.csv("artist_vertices2_10-23-2021.csv")
artist_vertices <- read.csv("artist_vertices2_10-23-2021.csv")
artist_vertices <- artist_vertices[,!(names(artist_vertices) %in% c("X"))]
View(artist_vertices)
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
runApp('Documents/J Balvin Project/Web App')
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)+
font("x.text", size = 8, vjust = 0.5)
install.Packages("ggpubr")
install.packages("ggpubr")
install.packages("ggpubr")
install.packages("ggpubr")
install.packages("ggpubr")
install.packages("ggpubr")
install.packages("ggpubr")
library(ggpubr)
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)+
font("x.text", size = 8, vjust = 0.5)
library(ggpubr)
font("x.text", size = 8, vjust = 0.5)
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)+
font("x.text", size = 8, vjust = 0.5)
shiny::runApp('Documents/J Balvin Project/Web App')
uninstall.packages("ggpubr")
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)+
font("x.text", size = 8, vjust = 0.5)
shiny::runApp('Documents/J Balvin Project/Web App')
library(ggpubr)
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)+
font("x.text", size = 8, vjust = 0.5)
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
)
ggdotchart(artist_vertices, x = "name", y = "popularity",
color = "type",
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
sorting = "asc", sort.by.groups = TRUE,
add = "segments",
add.params = list(color = "lightgray", size = 2),
group = "type",
dot.size = 4,
ggtheme = theme_pubclean()
) %>% ggplotly()
runApp('Documents/J Balvin Project/Web App')
library(igraph)
# Read in collaborations, artist_df, and new_artists.
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info")
collaboration_info_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info") %>% tail(n = 1)
collaboration_info <- read.csv(collaboration_info_file)
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df")
artist_df_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df") %>% tail(n = 1)
artist_df <- read.csv(artist_df_file)
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df")
new_artists_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df") %>% tail(n = 1)
new_artists <- read.csv(new_artists_file)
View(collaboration_info)
# Read in collaborations, artist_df, and new_artists.
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info")
collaboration_info_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info") %>% tail(n = 1)
collaboration_info <- read.csv(collaboration_info_file)
collaboration_info <- collaboration_info[,!(names(collaboration_info) %in% c("X"))]
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df")
artist_df_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df") %>% tail(n = 1)
artist_df <- read.csv(artist_df_file)
artist_df <- artist_df[,!(names(artist_df) %in% c("X"))]
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df")
new_artists_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df") %>% tail(n = 1)
new_artists <- read.csv(new_artists_file)
new_artists <- new_artists[,!(names(new_artists) %in% c("X"))]
View(new_artists)
View(artist_df)
View(artist_df)
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info")
collaboration_info_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info") %>% tail(n = 1)
collaboration_info <- read.csv(collaboration_info_file)
collaboration_info <- collaboration_info[,!(names(collaboration_info) %in% c("X"))]
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df")
artist_df_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df") %>% tail(n = 1)
artist_df <- read.csv(artist_df_file)
artist_df <- artist_df[,!(names(artist_df) %in% c("X"))]
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df")
new_artists_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/new-artists-df") %>% tail(n = 1)
new_artists <- read.csv(new_artists_file)
new_artists <- new_artists[,!(names(new_artists) %in% c("X"))]
View(artist_df)
collaborations <- filter(collaboration_info, id2 != "")
edge_ids <- data.frame(source = collaborations$id1, target = collaborations$id2) %>% unique()
View(collaboration_info)
edge_ids
View(collaborations)
# Get edge ids.
collaborations <- filter(collaboration_info, id2 != "")
View(collaboration_info)
View(collaboration_info)
# Get edge ids.
collaborations <- filter(collaboration_info, id2 != "")
View(collaborations)
edge_ids <- data.frame(source = collaborations$id1, target = collaborations$id2) %>% unique()
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% unique()
View(artist_vertices)
# Collect genre data, add to vertices.
hip_hop_rap_rbnb <- apply(artist_vertices, 1, contains_certain_genre, c("hip hop", "rap"))
rock <- apply(artist_vertices, 1, contains_certain_genre, c("rock"))
country <- apply(artist_vertices, 1, contains_certain_genre, c("country"))
pop <- apply(artist_vertices, 1, contains_certain_genre, c("pop"))
latin <- apply(artist_vertices, 1, contains_certain_genre, c("latin", "colombian", "mexica", "reggaeton"))
edm <- apply(artist_vertices, 1, contains_certain_genre, c("techno", "edm", "house", "dubstep", "trance"))
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
library(igraph)
library(tidyverse)
library(stringr)
library(dplyr)
# Collect genre data, add to vertices.
hip_hop_rap_rbnb <- apply(artist_vertices, 1, contains_certain_genre, c("hip hop", "rap"))
rock <- apply(artist_vertices, 1, contains_certain_genre, c("rock"))
country <- apply(artist_vertices, 1, contains_certain_genre, c("country"))
pop <- apply(artist_vertices, 1, contains_certain_genre, c("pop"))
latin <- apply(artist_vertices, 1, contains_certain_genre, c("latin", "colombian", "mexica", "reggaeton"))
edm <- apply(artist_vertices, 1, contains_certain_genre, c("techno", "edm", "house", "dubstep", "trance"))
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
library(tidyverse)
library(stringr)
library(tm)
library(lubridate)
library(devtools)
library(rvest)
library(dplyr)
library(purrr)
library(plyr)
library(spotifyr)
library(genius)
library(igraph)
library(ggraph)
library(ggplot2)
library(sjPlot)
library(tidyr)
library(rapport)
library(sjmisc)
library(plotly)
library(ggbeeswarm)
library(ggridges)
library(RColorBrewer)
library(DT)
library(Rfast)
library(toOrdinal)
library(forcats)
hip_hop_rap_rbnb <- apply(artist_vertices, 1, contains_certain_genre, c("hip hop", "rap"))
rock <- apply(artist_vertices, 1, contains_certain_genre, c("rock"))
country <- apply(artist_vertices, 1, contains_certain_genre, c("country"))
pop <- apply(artist_vertices, 1, contains_certain_genre, c("pop"))
latin <- apply(artist_vertices, 1, contains_certain_genre, c("latin", "colombian", "mexica", "reggaeton"))
edm <- apply(artist_vertices, 1, contains_certain_genre, c("techno", "edm", "house", "dubstep", "trance"))
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
# Make network.
artist_network <- graph_from_data_frame(d=unique(edge_ids), vertices = unique(artist_vertices), directed = FALSE)
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% unique()
View(artist_vertices)
View(artist_vertices)
View(artist_vertices)
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
View(artist_vertices)
View(artist_df)
View(new_artists)
1530+20522
View(artist_vertices)
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% unique()
View(artist_vertices)
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
View(artist_vertices)
# Make network.
artist_network <- graph_from_data_frame(d=unique(edge_ids), vertices = unique(artist_vertices), directed = FALSE)
artist_vertices_ids <- artist_vertices$id
artist_vertices_ids
artist_vertices_ids_all <- artist_vertices$id
artist_vertices_ids_set <- set(artist_vertices$id)
artist_vertices_ids_all <- artist_vertices$id
artist_vertices_ids_set <- unique(artist_vertices$id)
length(artist_vertices_ids_all)
length(artist_vertices_ids_set)
diff(artist_vertices_ids_all,artist_vertices_ids_set)
setdiff(artist_vertices_ids_all,artist_vertices_ids_set)
setdiff(artist_vertices_ids_set, artist_vertices_ids_all)
artist_vertices_ids_all - artist_vertices_ids_set
artist_vertices_ids_set
counts <- table(artist_vertices_ids_set)
counts
counts <- table(artist_vertices_ids_all)
counts
counts[1]
multiples <- names(counts)[counts > 1]
multiples
View(artist_df)
View(artist_vertices)
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% unique() %>% arrange(-followers.total)
View(artist_vertices)
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% arrange(-followers.total) %>% unique() %>% distinct(id, .keep_all=TRUE)
artist_vertices_ids_all <- artist_vertices$id
artist_vertices_ids_set <- unique(artist_vertices$id)
counts <- table(artist_vertices_ids_all)
multiples <- names(counts)[counts > 1]
length(artist_vertices_ids_all
)
length(artist_vertices_ids_set)
counts
multiples
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
# Get vertex information.
artist_vertices <- rbind(artist_df, new_artists) %>% arrange(-followers.total) %>% unique() %>% distinct(id, .keep_all=TRUE)
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
hip_hop_rap_rbnb <- apply(artist_vertices, 1, contains_certain_genre, c("hip hop", "rap"))
rock <- apply(artist_vertices, 1, contains_certain_genre, c("rock"))
country <- apply(artist_vertices, 1, contains_certain_genre, c("country"))
pop <- apply(artist_vertices, 1, contains_certain_genre, c("pop"))
latin <- apply(artist_vertices, 1, contains_certain_genre, c("latin", "colombian", "mexica", "reggaeton"))
edm <- apply(artist_vertices, 1, contains_certain_genre, c("techno", "edm", "house", "dubstep", "trance"))
soul_jazz <- apply(artist_vertices, 1, contains_certain_genre, c("jazz", "soul", "funk", "r&b"))
artist_vertices <- artist_vertices %>% mutate(main_genre = case_when(
edm ~ 'edm, techno, house',
country ~ 'country',
latin ~ 'latin',
soul_jazz ~ 'jazz, soul, r&b',
rock ~ 'rock',
pop ~ 'pop',
hip_hop_rap_rbnb ~ 'hip hop, rap',
TRUE ~ 'other'))
# Make network.
artist_network <- graph_from_data_frame(d=unique(edge_ids), vertices = unique(artist_vertices), directed = FALSE)
length(edge_ids)
edge_ids <- data.frame(source = collaborations$id1, target = collaborations$id2) %>% unique()
View(edge_ids)
id1 <- edge_ids$source
id2 <- edge_ids$target
length(id1)
length(id2)
length(unique(id1))
length(unique(id2))
all_ids <- append(id1,id2)
length(unique(all_ids))
length(artist_vertices)
length(artist_vertices$id)
setdiff(unique(all_ids), artist_vertices$id)
length(unique(artist_vertices$id))
View(artist_df)
View(artist_vertices)
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info")
collaboration_info_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/collaboration-info") %>% tail(n = 1)
collaboration_info <- read.csv(collaboration_info_file)
collaboration_info <- collaboration_info[,!(names(collaboration_info) %in% c("X"))]
View(collaboration_info)
artist_df_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df") %>% tail(n = 1)
artist_df <- read.csv(artist_df_file)
artist_df <- artist_df[,!(names(artist_df) %in% c("X"))]
artist_df <- read.csv(artist_df_file)
setwd("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df")
artist_df_file <-
list.files("/Users/lindsaymaggioncalda/Documents/J Balvin Project/Web App/artist-df") %>% tail(n = 1)
artist_df_file
artist_df <- read.csv(artist_df_file)
artist_df <- artist_df[,!(names(artist_df) %in% c("X"))]
View(artist_df)
View(collaboration_info)
